<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Access, download and process geospatial image data from a growing 
    list of Australian databases in one simplified interface. Products include 
    soil, climate, satellite, terrain and radiometric data layers. Also has 
    access to the Google Earth Engine Catalog.">
<title>Download and Process Geospatial Data • dataharvester</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Download and Process Geospatial Data">
<meta property="og:description" content="Access, download and process geospatial image data from a growing 
    list of Australian databases in one simplified interface. Products include 
    soil, climate, satellite, terrain and radiometric data layers. Also has 
    access to the Google Earth Engine Catalog.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">dataharvester</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.16</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/dataharvester.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/dea.html">download_dea()</a>
    <a class="dropdown-item" href="articles/dem.html">download_dem()</a>
    <a class="dropdown-item" href="articles/landscape.html">download_landscape()</a>
    <a class="dropdown-item" href="articles/radiometric.html">download_radiometric()</a>
    <a class="dropdown-item" href="articles/silo.html">download_silo()</a>
    <a class="dropdown-item" href="articles/slga.html">download_slga()</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><p><img src="reference/figures/logo_r.png" width="300" style="display: block; margin: auto;"></p>
<hr>
<!-- badges: start -->
<hr>
<p><strong>Important: This is a pre-release version of <code>dataharvester</code> which is undergoing active development. Please report any bugs in the <a href="https://github.com/Sydney-Informatics-Hub/dataharvester/issues" class="external-link">issues</a> tab.</strong></p>
<p><code>dataharvester</code> is an R interface to the <a href="https://www.agrefed.org.au/" class="external-link">AgReFed</a> Geodata-Harvester. Use <code>dataharvester</code> to preprocess, aggregate, visualise and download geospatial data from a range of <strong>Australian</strong> (and international) data sources, including:</p>
<ul>
<li><a href="https://is.gd/i8nF0Z" class="external-link">Soil and Landscape Grid of Australia (SLGA)</a></li>
<li><a href="https://is.gd/ifJ8tB" class="external-link">SILO Climate Database - Queensland Government, Australia</a></li>
<li><a href="https://is.gd/ZLFwGs" class="external-link">Digital Elevation Model (DEM) of Australia</a></li>
<li><a href="https://is.gd/gRSlVG" class="external-link">Digital Earth Australia (DEA) Geoscience Earth Observations</a></li>
<li><a href="https://is.gd/zFHxfD" class="external-link">GSKY Data Server for DEA Geoscience Earth Observations</a></li>
<li><a href="https://is.gd/VdO3Jx" class="external-link">Google Earth Engine</a></li>
</ul>
<p>With connectivity to the Earth Engine API, perform petabyte-scale operations which include temporal cloud/shadow masking and automatic calculation of spectral indices (e.g. NDVI) for the following collections:</p>
<ul>
<li>Landsat <a href="https://developers.google.com/earth-engine/datasets/catalog/landsat-5" class="external-link">5</a> (TM), <a href="https://developers.google.com/earth-engine/datasets/catalog/landsat-7" class="external-link">7</a> (ETM+), <a href="https://developers.google.com/earth-engine/datasets/catalog/landsat-8" class="external-link">8</a> (OLI/TRS) and <a href="https://developers.google.com/earth-engine/datasets/catalog/landsat-9" class="external-link">9</a> (OLI-2/TRS-2)</li>
<li>
<a href="https://developers.google.com/earth-engine/datasets/catalog/sentinel-2" class="external-link">Sentinel-2</a> (Surface Reflectance) and <a href="https://developers.google.com/earth-engine/datasets/catalog/COPERNICUS_S3_OLCI" class="external-link">Sentinel-3</a> (Ocean and Land Colour Instrument)</li>
<li>
<a href="https://developers.google.com/earth-engine/datasets/catalog/modis" class="external-link">MODIS</a> (or Moderate Resolution Imaging Spectroradiometer) products</li>
</ul>
<p>For <a href="https://developers.google.com/earth-engine/datasets/" class="external-link">all other Earth Engine collections</a>, while <code>dataharvester</code> does not provide officual support, users can still perform basic operations to filter, reduce, visualise and download data.</p>
<div class="section level2">
<h2 id="demo">Demo<a class="anchor" aria-label="anchor" href="#demo"></a>
</h2>
<p>Below is an output when the following 3 lines of code is run on a configuration file, which downloads 16 images from 7 API sources:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sydney-informatics-hub.github.io/dataharvester/">dataharvester</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/initialise_harvester.html">initialise_harvester</a></span><span class="op">(</span><span class="st">"r-reticulate"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/harvest.html">harvest</a></span><span class="op">(</span><span class="st">"~/Documents/democonfig.yaml"</span>, plot <span class="op">=</span> <span class="cn">TRUE</span>, contour <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/harvestdemo.gif"></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Install the development version of this package from GitHub using <code>install_github()</code> from <code>remotes</code> or <code>devtools</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes") # uncomment and run this line if necessary</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"sydney-informatics-hub/dataharvester"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sydney-informatics-hub.github.io/dataharvester/">dataharvester</a></span><span class="op">)</span> <span class="co"># load package</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="headless-run">“Headless” run<a class="anchor" aria-label="anchor" href="#headless-run"></a>
</h3>
<p>Run <code><a href="reference/initialise_harvester.html">initialise_harvester()</a></code> after loading the package. The function helps you initialise the package, verifies package dependencies and connect to the Earth Engine API. Note that the default environment is <code>r-reticulate</code>, but you can provide a different name if this environment is being used in other projects.</p>
<p>The first initialisation may take a few minutes if dependencies need to be installed.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sydney-informatics-hub.github.io/dataharvester/">dataharvester</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/initialise_harvester.html">initialise_harvester</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, earthengine <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><strong>Note</strong>: connecting to the Earth Engine API requires an existing Google account. Depending on your OS, a web browser popup may appear where you will be guided to connect to the API. Otherwise, a link will be provided, and you will need to follow the instructions to finalise the authentication process. More information can be found in the documentation.</p>
<p>Then, run <code><a href="reference/harvest.html">harvest()</a></code>, which parses a YAML config file:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/harvest.html">harvest</a></span><span class="op">(</span>path_to_config <span class="op">=</span> <span class="st">"path/to/config.yaml"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="manual-downloads">Manual downloads<a class="anchor" aria-label="anchor" href="#manual-downloads"></a>
</h3>
<p>The <code><a href="reference/harvest.html">harvest()</a></code> function is essentially a wrapper for all the API calls available in the Data-Harvester. Individual functions are available for each of the data sources. For example, the code below downloads Bulk Density data from SLGA for a specified region and saves it to the <code>downloads</code> folder in your working directory:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">slga</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_slga.html">download_slga</a></span><span class="op">(</span></span>
<span>  layer <span class="op">=</span> <span class="st">"Bulk_Density"</span>,</span>
<span>  bounding_box <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">149.769345</span>, <span class="op">-</span><span class="fl">30.335861</span>, <span class="fl">149.949173</span>, <span class="op">-</span><span class="fl">30.206271</span><span class="op">)</span>,</span>
<span>  out_path <span class="op">=</span> <span class="st">"downloads/"</span>,</span>
<span>  resolution <span class="op">=</span> <span class="fl">6</span>,</span>
<span>  depth_min <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  depth_max <span class="op">=</span> <span class="fl">5</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Access to the Google Earth Engine API is aimed at simplifying the most common tasks for beginners. For example, below is example code that performs all of the following (in 9 lines of code):</p>
<ul>
<li>Access to the Google Earth Engine Data Catalog</li>
<li>Filter by date and coordinates</li>
<li>Scaling, offsetting, cloud and shadow masking</li>
<li>Automatically calculate Awesome Spectral Indices (e.g. NDVI)</li>
<li>Pixel stretching for image preview</li>
<li>Mapping of results</li>
<li>Downloading of image(s) at specified resolution and location</li>
<li>Splitting of large images automatically to allow file sizes that exceed the limit(s) set by the API (~32 MB)</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Make sure that GEE API is initialised</span></span>
<span><span class="fu"><a href="reference/initialise_harvester.html">initialise_harvester</a></span><span class="op">(</span><span class="st">"r-reticulate"</span>, earthengine <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co"># 1. Define dataset</span></span>
<span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/collect_ee.html">collect_ee</a></span><span class="op">(</span></span>
<span>  collection <span class="op">=</span> <span class="st">"LANDSAT/LC09/C02/T1_L2"</span>,</span>
<span>  coords <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">149.769345</span>, <span class="op">-</span><span class="fl">30.335861</span>, <span class="fl">149.949173</span>, <span class="op">-</span><span class="fl">30.206271</span><span class="op">)</span>,</span>
<span>  date <span class="op">=</span> <span class="st">"2021-06-01"</span>,</span>
<span>  end_date <span class="op">=</span> <span class="st">"2022-06-01"</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># 2. Preprocess (cloud masking, scale and offsetting enabled by default)</span></span>
<span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/preprocess_ee.html">preprocess_ee</a></span><span class="op">(</span><span class="va">img</span>, spectral <span class="op">=</span> <span class="st">"NDVI"</span><span class="op">)</span></span>
<span><span class="co"># 3. Visualise (optional)</span></span>
<span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/map_ee.html">map_ee</a></span><span class="op">(</span><span class="va">img</span>, bands <span class="op">=</span> <span class="st">"NDVI"</span><span class="op">)</span></span>
<span><span class="co"># 4. Download at 100m/px resolution</span></span>
<span><span class="va">img</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_ee.html">download_ee</a></span><span class="op">(</span><span class="va">img</span>, bands <span class="op">=</span> <span class="st">"NDVI"</span>, scale <span class="op">=</span> <span class="fl">100</span>, out_path <span class="op">=</span> <span class="st">"downloads/"</span><span class="op">)</span></span></code></pre></div>
<p>Note that the above functions can be chained/simplified using native (<code>|&gt;</code>) or <code>dplyr</code> (<code>%&gt;%</code>) pipes.</p>
<p>These functions are not meant to provide full functionality from the GEE API. At any time, a user may take an Earth Engine object and process it directly using the API - in this case, with <a href="https://github.com/r-spatial/rgee" class="external-link"><code>rgee</code></a> in R.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Extract ee.Image or ee.ImageCollection object</span></span>
<span><span class="va">gee_obj</span> <span class="op">&lt;-</span> <span class="va">img</span><span class="op">$</span><span class="va">ee_image</span></span>
<span></span>
<span><span class="co"># Now use `gee_obj` anywhere that can process Earth Engine Object data...</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="spatialtemporal-buffering">Spatial/temporal buffering<a class="anchor" aria-label="anchor" href="#spatialtemporal-buffering"></a>
</h2>
<p><strong>NEW</strong> Once data is downloaded, <code>dataharvester</code> provides functions to assist in data aggregation over space and time. <em>This will be documented soon.</em></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#TODO</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="acknowledgments">Acknowledgments<a class="anchor" aria-label="anchor" href="#acknowledgments"></a>
</h2>
<p>Acknowledgements are an important way for us to demonstrate the value we bring to your research. Your research outcomes are vital for ongoing funding of the Sydney Informatics Hub. If you make use of this software for your research project, please include the following acknowledgement:</p>
<blockquote><p>“This research was supported by the Sydney Informatics Hub, a Core Research Facility of the University of Sydney, and the Agricultural Research Federation (AgReFed).”</p></blockquote>
</div>
<div class="section level2">
<h2 id="attribution">Attribution<a class="anchor" aria-label="anchor" href="#attribution"></a>
</h2>
<p>This software was developed by the Sydney Informatics Hub, a core research facility of the University of Sydney, as part of the Data Harvesting project for the Agricultural Research Federation (AgReFed). AgReFed is supported by the Australian Research Data Commons (ARDC) and the Australian Government through the National Collaborative Research Infrastructure Strategy (NCRIS).</p>
<p>We would also like to acknowledge the use of the following Python packages in <code>dataharvester</code>, as we have used their code in the Data-Harvester: <a href="https://github.com/giswqs/geemap" class="external-link">geemap</a>, <a href="https://github.com/aazuspan/wxee" class="external-link">wxee</a> and <a href="https://github.com/davemlz/eemont" class="external-link">eemont</a>.</p>
</div>
<div class="section level2">
<h2 id="license">License<a class="anchor" aria-label="anchor" href="#license"></a>
</h2>
<p>© 2022 The University of Sydney</p>
<p>This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License (LGPL version 3) as published by the Free Software Foundation.</p>
</div>

  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing dataharvester</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Januar Harianto <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-4803-108X" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
<li>Sebastian Haan <br><small class="roles"> Author </small>  </li>
<li>Nathaniel Butterworth <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="#license"><img src="https://img.shields.io/badge/License-GPLV3-blue" alt="License"></a></li>
<li><a href="https://github.com/Sydney-Informatics-Hub/dataharvester/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/Sydney-Informatics-Hub/dataharvester/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
<li><a href="https://github.com/Sydney-Informatics-Hub/dataharvester/issues" class="external-link"><img src="https://img.shields.io/github/issues/Sydney-Informatics-Hub/dataharvester" alt="issues - dataharvester"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Januar Harianto, Sebastian Haan, Nathaniel Butterworth.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
